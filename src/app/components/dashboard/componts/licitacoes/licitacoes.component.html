
<div class="card">
  <div class="pedido-manualmente">
    <div class="body-button">
      <p-button label="Criar Cotacao"  icon="pi pi-plus" (onClick)="showAdicionarNovaLicitacao()"></p-button>
    </div>
  </div>

  <p-table
    [lazy]="true"
    dataKey="id"
    [tableStyle]="{ 'min-width': '20rem' , 'width': '100%'}"
    [paginator]="true"
    [rows]="10"
    [globalFilterFields]="['name', 'country.name', 'company', 'representative.name']">

    <ng-template pTemplate="header">
        <tr>
            <th style="width: 4rem" pSortableColumn="licitacao.tipoLicitacao">Tipo</th>
            <th pSortableColumn="licitacao.numeroEdital">Número do Edital</th>
            <th pSortableColumn="licitacao.pregao">Pregão</th>
            <th pSortableColumn="licitacao.dataAbertura">Abertura</th>
            <th pSortableColumn="licitacao.dataFechamento">Fechamento</th>
        </tr>
    </ng-template>

    <ng-template pTemplate="body" let-licitacao>
        <tr>
            <td>{{ licitacao.tipoLicitacao}}</td>
            <td>{{ licitacao.numeroEdital }}</td>
            <td>{{ licitacao.pregao }}</td>
            <td>{{ licitacao.dataFechamento }} </td>
            <td>{{ licitacao.dataAbertura }}</td>
        </tr>
    </ng-template>

  </p-table>
</div>


<p-dialog header="Adicionar Nova Licitação" [(visible)]="ShowDialogAdicionar" [responsive]="true" [style]="{width: '50vw'}" [maximizable]="true">
  <div class="form-dialog">
      <div class= "iten-dialog">
          <label for="newName">Tipo:</label>
          <p-dropdown [options]="ListTipoLicitacao" [(ngModel)]="_tipoLicitacao"  [showClear]="true" placeholder="Tipo de Licitação"></p-dropdown>
      </div>
      <div class= "iten-dialog">
          <label for="newName">Portal:</label>
          <p-dropdown [options]="ListPortais" [(ngModel)]="_portal"  [showClear]="true" placeholder="Portal Responsável"></p-dropdown>
      </div>
      <div class= "iten-dialog">
          <label for="newName">Numero Edital:</label>
          <input class="textInput"  type="number" pInputText [(ngModel)]="_numeroEdital"/>
      </div>
      <div class= "iten-dialog">
          <label for="newPrice">Pregão:</label>
          <input class="textInput"  type="number" pInputText [(ngModel)]="_pregao"/>
      </div>
      <div class= "iten-dialog">
          <label for="newStock">Abertura Propostas:</label>
          <!-- <input class="textInput" type="text" pInputText [(ngModel)]="_dataAberturaProposta"/> -->
          <p-calendar [(ngModel)]="_dataAberturaProposta" [showTime]="true" appendTo="body"></p-calendar>

      </div>
      <div class= "iten-dialog">
        <label for="newStock">Fechamento Propostas:</label>
        <p-calendar [(ngModel)]="_dataLimiteProposta" [showTime]="true" appendTo="body"></p-calendar>

      </div>
      <div class= "iten-dialog">
          <label for="newStock">Data Publicação Edital:</label>

          <p-calendar [(ngModel)]="_dataPublicacaoEdital" appendTo="body" class="custom-calendar"></p-calendar>

      </div>
      <div class= "iten-dialog">
          <label for="newStock">Arquivos Licitação:</label>
          <p-fileUpload chooseIcon="pi pi-cloud-upload" mode="basic" name="documentos[]" url="URL_PARA_ENVIAR_OS_ARQUIVOS"  multiple-accept="application/pdf, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document" ></p-fileUpload>
      </div>

      <!-- <p-fileUpload name="myfile[]" url="./upload.php" ></p-fileUpload> -->

  </div>
  <div class="button-container">
    <button type="button" pButton label="Salvar"></button>
  </div>
</p-dialog>
